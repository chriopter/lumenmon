#!/bin/bash
# Downloads latest vendored web dependencies (JS libraries) to console/web/public/.
# Run this to update Chart.js and MQTT.js from unpkg.com CDN.
# CSS is now managed via Tailwind (see console/package.json).

set -e

echo "Updating vendored dependencies..."

# Create directories if they don't exist
mkdir -p console/web/public/js/vendor

# Update Chart.js
echo "  Downloading Chart.js..."
curl -sL https://unpkg.com/chart.js@latest/dist/chart.umd.js -o console/web/public/js/vendor/chart.js

# Update MQTT.js
echo "  Downloading MQTT.js..."
curl -sL https://unpkg.com/mqtt@latest/dist/mqtt.min.js -o console/web/public/js/vendor/mqtt.min.js

echo "Done! Dependencies updated successfully."
echo ""
echo "Note: CSS is now managed via Tailwind CSS."
echo "To update Tailwind: cd console && npm update tailwindcss @tailwindcss/cli"
